plugin.exports=class a{static ID="NPn7Jz6klnvU1atj7-i1C";static TYPE=plugin.type.BOOK_STORE;static GROUP="默认";static NAME="23书吧";static VERSION="1.0.0";static VERSION_CODE=1;static PLUGIN_FILE_URL="https://23shu8.net/a.js";static BASE_URL="https://23shu8.net";static REQUIRE={maxPageNumber:{label:"最大页数",type:"number",default:5}};static SEARCH_FILTER=void 0;static DEPRECATED=void 0;request;store;cheerio;nanoid;uuid;constructor(t){var{request:t,store:e,cheerio:i,nanoid:a,uuid:s}=t;this.request=t,this.store=e,this.cheerio=i,this.nanoid=a,this.uuid=s}get config(){return{"最新更新":()=>this.getRank("last"),"最新新书":()=>this.getRank("new"),"总排行榜":()=>this.getRank("tops")}}async getRank(t,e=1){var i=a.BASE_URL+"/"+t+("last"==t?e+".htm":""),i=(await this.request.get(i)).body;let s=[];return this.cheerio(i,{decodeEntities:!1})("ul.content").each((t,e)=>{e=this.cheerio(e);s.push({bookname:e("li.tag2>a").text(),author:e("li.tag4>a").text(),coverImageUrl:void 0,intro:void 0})}),"last"==t&&e<=a.REQUIRE.maxPageNumber.value&&s.push(...await this.getRank("last",e+=1)),s}};